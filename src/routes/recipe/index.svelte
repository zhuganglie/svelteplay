<script>
  import dishes from "$lib/data/dish.json";
  import Select from "svelte-select";

  const complexItems = dishes.map(dish => dish.name);
  let selected = [];
  function handleSelect(event) {
    selected = event.detail
  }
  
  let meatList = dishes.filter(dish => dish.type === 'è¤èœ');
  let vegList = dishes.filter(dish => dish.type === 'ç´ èœ');
  let veg = vegList.sort(() => Math.random() - Math.random()).slice(0, 2);
  let meat = meatList.sort(() => Math.random() - Math.random()).slice(0, 2);
  let menu = meat.concat(veg);

  export function change() {
    veg = vegList.sort(() => Math.random() - Math.random()).slice(0, 2);
    meat = meatList.sort(() => Math.random() - Math.random()).slice(0, 2);
    menu = meat.concat(veg);
  }
  
  const rts = [
    {href: 'https://www.startaster.com.cn/phone.php/restaurant/RE000564/zh-cn?', title: 'è›™åŠŸå¤«'},
    {href: 'https://www.startaster.com.cn/phone.php/restaurant/RE000524/zh-cn?', title: 'å²å¯†æ–¯æ¹˜èœé¦†'},
    {href: 'https://www.startaster.com.cn/phone.php/restaurant/RE000042/zh-cn?', title: 'è€æˆéƒ½'},
    {href: 'https://www.cqgf.com.sg/cn/', title: 'é‡åº†çƒ¤é±¼'},
    {href: 'https://www.startaster.com.cn/restaurant/RE000020/zh-cn', title: 'èŸ¹è€å®‹'}
  ]
  const yts = [
    {href: 'https://www.youtube.com/channel/UCg0m_Ah8P_MQbnn77-vYnYw', title: 'ç¾é£Ÿä½œå®¶'},
    {href: 'https://www.youtube.com/channel/UCBJmYv3Vf_tKcQr5_qmayXg', title: 'è€é¥­éª¨'},
    {href: 'https://www.youtube.com/channel/UCu7NhIfuD79werXU8I52oaQ', title: 'å±±è¯è§†é¢‘'},
    {href: 'https://www.youtube.com/channel/UCmCuW1RdJA471zImbT2MdBQ', title: 'é“é”…è§†é¢‘'}
  ]
</script>


<svelte:head>
        <title>Recipe</title>
    </svelte:head>

  <h1 class="text-3xl">ä»Šå¤©åƒä»€ä¹ˆï¼Ÿ</h1>
  <hr />
  <img src="/images/crab.jpeg" width="" alt="crab" loading="lazy" class="max-w-full rounded h-auto object-fill"/>
<p>ä¸Šé¢ ğŸ‘† è¿™ä¸ªé—®é¢˜ç»™æˆ‘å¸¦æ¥äº†ä¸å°‘å›°æ‰°ã€‚ä¸ºæ­¤ï¼Œæˆ‘ç‰¹åœ°å†™äº†ä¸‹é¢ ğŸ‘‡ è¿™ä¸ªå°ç¨‹åºã€‚æœ‰äº†è¿™ä¸ªç¨‹åºï¼Œä¸å¿…åŠ¨è„‘ç­‹æƒ³èœåï¼Œåªéœ€ç‚¹å‡»æŒ‰é’®å°±å¯è§£å†³ä»Šå¤©åƒä»€ä¹ˆçš„é—®é¢˜ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<h2 class="text-2xl">éšæœºèœå•</h2>
<p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®ï¼Œä¼šéšæœºç”Ÿæˆä¸€ä¸ªä¸¤è¤ä¸¤ç´ çš„èœå•ï¼Œå¯æ— é™æ¬¡æ•°æ›´æ–°å“¦ã€‚</p>
<button on:click={change} class=" px-1.5 py-0.5 mb-2 bg-zinc-700 text-yellow-500 rounded ">ç‚¹æˆ‘æ›´æ–°</button>
  
  <table class="w-full md:w-1/2 text-center"> 
    <tr>
      <th>ç±»åˆ«</th>
    <th>èœå</th>
    <th>å‘³é“</th>
    </tr>
    {#each menu as item}
    <tr>
      <td>{item.type}</td>
      <td>{item.name}</td>
      <td>{item.taste}</td>
    </tr>
    {/each}
  </table>

<h2 class="text-2xl">è‡ªé€‰èœå•</h2>
<p>å¦‚æœä¸æ»¡æ„éšæœºç”Ÿæˆçš„èœå•ï¼Œå¯ä»¥åœ¨è¿™é‡Œç‚¹é€‰è‡ªå·±å–œæ¬¢åƒçš„èœç»„æˆèœè°±ï¼Œèœå“æ•°é‡ä¸é™ã€‚</p>
<div class="themed">
<div class="w-full md:w-1/2 mb-4">
<Select items={complexItems} isMulti={true} on:select={handleSelect} placeholder="é€‰èœ" />
</div>
{#if selected}
<ul>
{#each selected as se}
	<li> {se.label}</li>
  {/each}
</ul>
{/if}
</div>

<h2 class="text-2xl">ä»–å±±ä¹‹é£Ÿ</h2>
<p>è¿™é‡Œæ˜¯ä¸€äº›æˆ‘æ¯”è¾ƒå–œæ¬¢çš„æ²¹ç®¡ç¾é£Ÿé¢‘é“å’Œå¸¸å»çš„æœ¬åœ°ä¸­é¤é¦†ã€‚</p>
<div>
  <h3 class="text-xl">æ²¹ç®¡</h3>
  <ul class="list-none flex flex-wrap">
  {#each yts as yt}
  <li><a href={yt.href} target="_blank" class="">{yt.title}</a></li>
  {/each}
  </ul>
</div>
  
  <div>
    <h3 class="text-xl">é¤é¦†</h3>
    <ul class="flex flex-wrap list-none">
    {#each rts as rt}
    <li><a href={rt.href} target="_blank" class="">{rt.title}</a></li>
    {/each}
    </ul>
  </div>
  

  <style>
    .themed {
      --border: 1px solid rgb(63 63 70);
      --borderRadius: 0.25rem;
      --background: rgb(63 63 70);
      --borderFocusColor: rgb(113 113 122);
      --borderHoverColor: rgb(113 113 122);
      --itemHoverBG: rgb(39 39 42);
      --multiItemBG: rgb(39 39 42);
      --multiItemActiveBG: rgb(39 39 42);
      --inputColor: rgb(113 113 122);
      --listBackground: rgb(63 63 70);
    }
    table, td, th {
      border: 1px solid rgb(63 63 70);
    }
    td, th {
      padding: 0.5rem;
    }
  </style>
